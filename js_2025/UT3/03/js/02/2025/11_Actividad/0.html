<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Formulario interactivo con eventos</title>
<style>
  body {
    font-family: sans-serif;
    background: #f7f7f7;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    height: 100vh;
    margin-top: 50px;
  }
  form {
    background: #fff;
    padding: 20px 30px;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    width: 320px;
  }
  input, select, button {
    width: 100%;
    margin-bottom: 15px;
    padding: 10px;
    font-size: 1em;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  input:focus {
    border-color: #66aaff;
    background: #eef7ff;
  }
  .error {
    border-color: red;
    background: #ffe6e6;
  }
  .mensaje {
    font-size: 0.9em;
    color: red;
    margin-bottom: 10px;
    min-height: 1em;
  }
</style>
</head>
<body>

<form id="registroForm">
  <h2>Formulario de registro</h2>

  <label>Nombre:</label>
  <input type="text" id="nombre" placeholder="Tu nombre">
  <div id="msgNombre" class="mensaje"></div>

  <label>Correo electrÃ³nico:</label>
  <input type="email" id="correo" placeholder="ejemplo@correo.com">
  <div id="msgCorreo" class="mensaje"></div>

  <label>PaÃ­s:</label>
  <select id="pais">
    <option value="">Selecciona tu paÃ­s</option>
    <option value="EspaÃ±a">EspaÃ±a</option>
    <option value="MÃ©xico">MÃ©xico</option>
    <option value="Argentina">Argentina</option>
  </select>
  <div id="msgPais" class="mensaje"></div>

  <button type="submit">Registrarse</button>
<p><b>focus</b> â†’ cambia el estilo al entrar en el campo.</p>
<p><b>blur</b> â†’ valida cuando se sale del campo.</p>
<p><b>input</b> â†’ valida mientras el usuario escribe.</p>
<p><b>change</b> â†’ detecta selecciÃ³n de paÃ­s.</p>
<p><b>submit</b> â†’ comprueba todo antes de enviar.</p>

</form>

<script>
const form = document.getElementById('registroForm');
const nombre = document.getElementById('nombre');
const correo = document.getElementById('correo');
const pais = document.getElementById('pais');

const msgNombre = document.getElementById('msgNombre');
const msgCorreo = document.getElementById('msgCorreo');
const msgPais = document.getElementById('msgPais');

// ðŸ”¹ Evento focus: cuando el usuario entra en un campo
[nombre, correo].forEach(campo => {
  campo.addEventListener('focus', function() {
    this.style.backgroundColor = '#eef7ff';
  });
});

// ðŸ”¹ Evento blur: cuando el usuario sale del campo (validaciÃ³n)
nombre.addEventListener('blur', function() {
  if (this.value.trim().length < 3) {
    msgNombre.textContent = "El nombre debe tener al menos 3 caracteres.";
    this.classList.add('error');
  } else {
    msgNombre.textContent = "";
    this.classList.remove('error');
  }
});

// ðŸ”¹ Evento input: se ejecuta cada vez que se escribe algo
correo.addEventListener('input', function() {
  if (!this.value.includes('@')) {
    msgCorreo.textContent = "Debe incluir '@' en el correo.";
    this.classList.add('error');
  } else {
    msgCorreo.textContent = "";
    this.classList.remove('error');
  }
});

// ðŸ”¹ Evento change: detecta cambio en select
pais.addEventListener('change', function() {
  if (this.value === "") {
    msgPais.textContent = "Selecciona un paÃ­s vÃ¡lido.";
  } else {
    msgPais.textContent = "";
  }
});

// ðŸ”¹ Evento submit: al enviar el formulario
form.addEventListener('submit', function(e) {
  e.preventDefault(); // Evita el envÃ­o real

  if (
    nombre.value.trim().length >= 3 &&
    correo.value.includes('@') &&
    pais.value !== ""
  ) {
    alert(" Registro exitoso. Â¡Bienvenido, " + nombre.value + "!");
    form.reset(); // Limpia el formulario
  } else {
    alert("Por favor, completa correctamente todos los campos.");
  }
});
</script>

</body>
</html>
